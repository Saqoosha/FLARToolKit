package org.libspark.flartoolkit.core.raster.rgb {	import org.libspark.flartoolkit.core.rasterreader.IFLARRgbPixelReader;			/**	 * @author Saqoosha	 */	public class PixelReader implements IFLARRgbPixelReader {			private var _parent:FLARRgbRaster_BGRA;			public function PixelReader(i_parent:FLARRgbRaster_BGRA) {			this._parent = i_parent;		}			/**		 * @param o_rgb	int[]		 */		public function getPixel(i_x:int, i_y:int, o_rgb:Array):void {			var ref_buf:Array = this._parent.refBuf;// byte[]			var bp:int = (i_x + i_y * this._parent.getWidth()) * 4;			o_rgb[0] = (ref_buf[bp + 2] & 0xff);// R			o_rgb[1] = (ref_buf[bp + 1] & 0xff);// G			o_rgb[2] = (ref_buf[bp + 0] & 0xff);// B			return;		}			/**		 * @param i_x	int[]		 * @param i_y	int[]		 * @param i_num	int		 * @param o_rgb	int[]		 */		public function getPixelSet(i_x:Array, i_y:Array, i_num:int, o_rgb:Array):void {			var width:int = _parent.getWidth();			var ref_buf:Array = _parent.refBuf;			//			var bp:int;			for (var i:int = i_num - 1; i >= 0; i--) {				bp = (i_x[i] + i_y[i] * width) * 4;				o_rgb[i * 3 + 0] = (ref_buf[bp + 2] & 0xff);// R				o_rgb[i * 3 + 1] = (ref_buf[bp + 1] & 0xff);// G				o_rgb[i * 3 + 2] = (ref_buf[bp + 0] & 0xff);// B			}		}	}}